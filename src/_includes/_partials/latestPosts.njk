<div>
  {% set postsCount = collections.posts | length %} {% set latestPostsCount =
  postsCount | min(numberOfLatestPostsToShow) %}
  <h2 class="py-5">
    Latest {{ latestPostsCount }} Post{% if latestPostsCount != 1 %}s{% endif %}
  </h2>
  {% set postslist = collections.posts | head(-1 * numberOfLatestPostsToShow) %}
  {% set postslistCounter = postsCount %}
  <div
    reversed
    class="postlist grid grid-cols-2 columns-3 break-inside-avoid w-full border-l-2 border-t-2"
    style="counter-reset: start-from {{ (postslistCounter or postslist.length) + 1 }}"
  >
    {% for post in postslist | reverse %}
    <div
      class="postlist-item{% if post.url == url %} postlist-item-active{% endif %} h-full w-full border-r-2 border-b-2"
    >
      <div
        class="flex flex-col relative justify-end h-full w-full min-h-fit transition-all"
      >
        <a
          href="{{ post.url }}"
          class="h-full w-full overflow-hidden"
        >
          <article class="flex flex-col group relative h-full w-full  lg:text-xl sm:text-base leading-tight">
            <span class="flex flex-row flex-wrap pb-8 gap-1 items-center justify-end">
              <time
                    datetime="{{ post.date | htmlDateString }}"
                    class="text-sm"
                    >{{ post.date | readableDate }}</time
                  >
            </span>
            <h3 class="postlist-item-header relative pr-9 my-4 decoration-transparent hover:decoration-inherit">{% if post.data.title %}{{ post.data.title }}{% else %}<code>{{ post.url }}</code>{% endif %}</h3>
            <div class="relative h-full">
              <div
                class="postlist-item-description text-sm pb-4 lg:h-80 px-8 lg:z-0 top-0 lg:bg-transparent"
              >
              {% if post.data.description %}
              <h4 class="inline-block float-left">
                  {{ post.data.description }}
              </h4>
              {% endif %}
              {% excerpt post %}
              </div>
              {% if post.data.thumb %}
              <div
                class="flex items-end justify-end h-full w-full top-0 lg:absolute sm:relative overflow-hidden lg:z-10"
              >
                <img
                  src="{{ post.data.thumb }}"
                  alt="{{ post.data.thumbAlt }}"
                  class="thumbImg inset-0 top-0 lg:absolute transition-all object-cover object-top"
                />
              </div>
              {% endif %}
            </div>
          </article>
        </a>
      </div>
      <div class="absolute max-w-sm pt-8 pb-4 flex flex-row flex-wrap gap-1 z-20">
        {% for tag in post.data.tags | filterTagList %} {% set tagUrl %}/tags/{{
          tag | slug
        }}/{% endset %}

        <a href="{{ tagUrl }}"
          class="relative block post-tag px-2"
          >{{ tag }}</a
        >

        {% endfor %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% set js %}
{% include './latestPosts/latestPosts.js' %}
{% endset %}
<script>{{ js | jsmin | safe }}</script>