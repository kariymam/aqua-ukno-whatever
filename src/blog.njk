---
layout: home.njk
eleventyNavigation:
  key: blog
  order: 1
numberOfLatestPostsToShow: 3
---
{% set postsCount = collections.posts | length %}
{% set morePosts = postsCount - numberOfLatestPostsToShow %}
{% set latestPostsCount = postsCount | min(numberOfLatestPostsToShow) %}
{% set postsCount = collections.posts | length %}
<div class="w-full lg:max-w-sm top-0 lg:sticky">
    <div class="intro">
      {% include "_partials/logo.njk" %}
      {% if numberOfLatestPostsToShow%}
      <h1 class="pt-4 text-2xl max-w-xs w-auto mb-1 pb-5 mr-12">
        Latest {{ latestPostsCount }} Post{% if latestPostsCount != 1 %}s{% endif %}
        </h1>
        {% else %}
        <h1 class="pt-4 text-2xl max-w-xs w-auto mb-1 pb-5 mr-12">
          Blog
          </h1>
      {% endif %}
        <h2><a href="/tags/">Tags</a></h2>
        {% include "_partials/taglist.njk" %}
        {% if morePosts > 0 %}
        <small>{{ morePosts }} more post{% if morePosts != 1 %}s{% endif %} can be found in <a href="/tags/">the archive</a>.</small>
        {% endif %}
    </div>
  </div>
  <div class="w-full">
    <div id="header" class="flex flex-row lg:top-0 lg:sticky z-20">
      {% include "_partials/header.njk" %}
    </div>
    {% if numberOfLatestPostsToShow%}
      {% set postslist = collections.posts | head(-1 * numberOfLatestPostsToShow) %}
      {% set postslistCounter = postsCount %}
      {% include 'postlist.njk' %}
    {% else %}
      {% set postslist = collections.posts %}
      {% include 'postlist.njk' %}
    {% endif %}
  </div>